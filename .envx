# NisFix Backend Environment Variables
# Copy this file to .env and configure for your environment
#
# Note: Variables prefixed with NISFIX_ are loaded via envconfig
# Required variables are marked with [required]

# ============================================================================
# Database Configuration
# ============================================================================

# MongoDB connection URI [required]
NISFIX_DATABASE_URI=mongodb://host.docker.internal:27017/nisfix

# MongoDB database name (default: nisfix)
NISFIX_DATABASE_NAME=nisfix

# ============================================================================
# JWT Configuration
# ============================================================================

# Path to RSA private key for JWT signing [required]
# Generate with: make generate-keys
NISFIX_JWT_PRIVATE_KEY_PATH=./keys/private.pem

# Path to RSA public key for JWT validation [required]
NISFIX_JWT_PUBLIC_KEY_PATH=./keys/public.pem

# Access token expiry duration (default: 1h)
# Format: Go duration (e.g., 1h, 30m, 24h)
NISFIX_ACCESS_TOKEN_EXPIRY=1h

# Refresh token expiry duration (default: 720h = 30 days)
NISFIX_REFRESH_TOKEN_EXPIRY=720h

# ============================================================================
# Mail Service Configuration (mailsendAPI integration)
# ============================================================================

# Base URL of the mailsendAPI service [required]
# In development, mock service is used so this can be any value
NISFIX_MAIL_BASE_URL=http://app:8080

# API key for mailsendAPI authentication (32 characters) [required]
# In development, mock service is used so this can be any value
NISFIX_MAIL_API_KEY=I1tdnXJm730ZVE5sRSfpGzmxstDuXYN1

# Sender display name (default: NisFix)
NISFIX_MAIL_SENDER_NAME=NisFix

# Project identifier for email tracking (default: nisfix)
NISFIX_MAIL_PROJECT=nisfix

# ============================================================================
# CheckFix API Configuration
# ============================================================================

# URL of the CheckFix verification API (optional)
# Leave empty to use mock client in development
NISFIX_CHECKFIX_API_URL=

# API key for CheckFix API (optional)
NISFIX_CHECKFIX_API_KEY=

# ============================================================================
# Server Configuration
# ============================================================================

# HTTP server port (default: 8080)
NISFIX_SERVER_PORT=8080

# Application environment: development, staging, production (default: development)
# Controls logging verbosity, mock services, Gin mode
NISFIX_ENVIRONMENT=staging

# ============================================================================
# Magic Link Configuration
# ============================================================================

# Base URL for magic link generation [required]
# This should point to your frontend application
NISFIX_MAGIC_LINK_BASE_URL=http://localhost:4002

# Magic link expiry duration (default: 15m)
NISFIX_MAGIC_LINK_EXPIRY=15m

# Supplier invitation link expiry (default: 168h = 7 days)
NISFIX_INVITATION_EXPIRY=168h

# ============================================================================
# CORS Configuration
# ============================================================================

# Allowed origins for CORS (comma-separated)
# Default: http://localhost:4002
NISFIX_ALLOWED_ORIGINS=http://localhost:4002,http://localhost:4001

# ============================================================================
# Rate Limiting
# ============================================================================

# Maximum requests per window (default: 100)
NISFIX_RATE_LIMIT_REQUESTS=100

# Rate limit window duration (default: 1m)
NISFIX_RATE_LIMIT_WINDOW=1m
